(function ($) {
	'use strict';

	$(function () {
		var $containers = $( '.youtube-container' );
		$containers.on( 'click', function() {
			var $iframe = $(this).find('iframe.youtube-container__embed');

			// Get YouTube video ID
			var videoId = $iframe.attr('src').match(/(?:youtube\.com\/watch\?v=|youtube\.com\/embed\/|youtu\.be\/)([A-Za-z0-9_-]+)/);

			// Stop all players
			for (var item in youtubePlayers) {
				youtubePlayers[item].player.stopVideo();
			}
			$containers.removeClass( 'youtube-container--clicked' );

			// Start current player
			youtubePlayers[videoId[1]].player.playVideo();
			$(this).addClass( 'youtube-container--clicked' );
		});
	});
}(jQuery));
